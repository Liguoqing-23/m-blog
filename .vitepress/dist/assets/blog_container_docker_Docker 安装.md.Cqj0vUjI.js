import{_ as s,D as i,C as a,am as n}from"./chunks/framework.BDOtvRbC.js";const g=JSON.parse('{"title":"Docker 安装","description":"","frontmatter":{},"headers":[],"relativePath":"blog/container/docker/Docker 安装.md","filePath":"blog/container/docker/Docker 安装.md"}'),e={name:"blog/container/docker/Docker 安装.md"},t=n(`<h1 id="docker-安装" tabindex="-1">Docker 安装 <a class="header-anchor" href="#docker-安装" aria-label="Permalink to &quot;Docker 安装&quot;">​</a></h1><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>官方文档：<a href="https://docs.docker.com/engine/install/" target="_blank" rel="noreferrer">https://docs.docker.com/engine/install/</a></p></div><h2 id="在-ubuntu-20-04-上安装-docker" tabindex="-1">在 Ubuntu 20.04 上安装 Docker <a class="header-anchor" href="#在-ubuntu-20-04-上安装-docker" aria-label="Permalink to &quot;在 Ubuntu 20.04 上安装 Docker&quot;">​</a></h2><h3 id="卸载旧版本" tabindex="-1">卸载旧版本 <a class="header-anchor" href="#卸载旧版本" aria-label="Permalink to &quot;卸载旧版本&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes monokai monokai vp-code"><code><span class="line"><span style="--shiki-light:#F92672;--shiki-dark:#F92672;">for</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#F8F8F2;"> pkg </span><span style="--shiki-light:#F92672;--shiki-dark:#F92672;">in</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#F8F8F2;"> docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; </span><span style="--shiki-light:#F92672;--shiki-dark:#F92672;">do</span><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;"> sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-get</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> remove</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#F8F8F2;"> $pkg; </span><span style="--shiki-light:#F92672;--shiki-dark:#F92672;">done</span></span></code></pre></div><p>或者</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes monokai monokai vp-code"><code><span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-get</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> remove</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker-engine</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker.io</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> containerd</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> runc</span></span></code></pre></div><h3 id="添加-docker-repository" tabindex="-1">添加 Docker repository <a class="header-anchor" href="#添加-docker-repository" aria-label="Permalink to &quot;添加 Docker repository&quot;">​</a></h3><p>在首次安装 Docker Engine，需要设置 Docker repository。之后可以从 repository 安装和更新 Docker。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes monokai monokai vp-code"><code><span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 更新 apt 包索引</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-get</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> update</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-get</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> upgrade</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 安装命令行工具</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-get</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> install</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> ca-certificates</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> curl</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> gnupg</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> lsb-release</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 添加 Docker 的官方 GPG 密钥</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> curl</span><span style="--shiki-light:#AE81FF;--shiki-dark:#AE81FF;"> -fsSL</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg</span><span style="--shiki-light:#F92672;--shiki-dark:#F92672;"> |</span><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;"> sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-key</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> add</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> -</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 添加 Docker repository</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> add-apt-repository</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> &quot;deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(</span><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">lsb_release</span><span style="--shiki-light:#AE81FF;--shiki-dark:#AE81FF;"> -cs</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;">) stable&quot;</span></span></code></pre></div><h3 id="安装-docker-engine" tabindex="-1">安装 Docker Engine <a class="header-anchor" href="#安装-docker-engine" aria-label="Permalink to &quot;安装 Docker Engine&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes monokai monokai vp-code"><code><span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 更新 apt 包索引</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-get</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 安装最新版本的 Docker Engine 和 containerd</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> apt-get</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> install</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker-ce</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker-ce-cli</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> containerd.io</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker-buildx-plugin</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker-compose-plugin</span></span></code></pre></div><h3 id="验证安装" tabindex="-1">验证安装 <a class="header-anchor" href="#验证安装" aria-label="Permalink to &quot;验证安装&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes monokai monokai vp-code"><code><span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 验证 Docker 是否安装成功</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker</span><span style="--shiki-light:#AE81FF;--shiki-dark:#AE81FF;"> --version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#88846F;--shiki-dark:#88846F;"># 验证 Docker 是否能正常运行</span></span>
<span class="line"><span style="--shiki-light:#A6E22E;--shiki-dark:#A6E22E;">sudo</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> docker</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> run</span><span style="--shiki-light:#E6DB74;--shiki-dark:#E6DB74;"> hello-world</span></span></code></pre></div>`,14),k=[t];function l(p,h,r,o,d,c){return a(),i("div",null,k)}const D=s(e,[["render",l]]);export{g as __pageData,D as default};
